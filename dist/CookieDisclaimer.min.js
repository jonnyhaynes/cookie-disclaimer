(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{var mod={exports:{}};factory(mod.exports);global.CookieDisclaimer=mod.exports}})(this,function(exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{var mod={exports:{}};factory(mod.exports);global.CookieDisclaimer=mod.exports}})(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasClass=hasClass;exports.init=init;var settings={name:"cookies_accepted",template:"cookie-banner.html",message:'Our website uses cookies to monitor traffic on our website and ensure that we can provide our customers with the best online experience possible. Please read our <a href="/cookies">cookie policy</a> to view more details on the cookies we use.'};var bodyClass="has-cookie-banner";function hasClass(el,className){return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)}function getFileContents(file,success,error){if(!window.XMLHttpRequest){return}var request=new XMLHttpRequest;request.onreadystatechange=function(){if(this.readyState===4){if(request.status!==200){if(error&&typeof error==="function"){error(request.responseText,request)}return}if(success&&typeof success==="function"){success(request.responseText,request)}}};request.open("GET",file,true);request.send()}function createCookie(name,value,duration){var expires=void 0,date=void 0;if(duration){date=new Date;date.setTime(date.getTime()+duration*24*60*60*1e3);expires="; expires="+date.toGMTString()}else{expires=""}document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){var cookieName=name+"=",ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var cookie=ca[i];while(cookie.charAt(0)==" "){cookie=cookie.substring(1,cookie.length)}if(cookie.indexOf(cookieName)===0){return cookie.substring(cookieName.length,cookie.length)}}return null}function init(options){for(var prop in options){if(options.hasOwnProperty(prop)){settings[prop]=options[prop]}}if(!readCookie(settings.name)){getFileContents(settings.template,function(response){var el=document.createElement("div");el.setAttribute("class","cookie-banner");el.setAttribute("id","cookie-banner");el.setAttribute("aria-role","alert");el.setAttribute("aria-live","assertive");el.innerHTML+=response;document.body.insertBefore(el,document.body.firstChild);document.getElementById("message").innerHTML=settings.message;if(document.body.classList)document.body.classList.add(bodyClass);else if(!hasClass(document.body,bodyClass))document.body.className+=" "+bodyClass;document.getElementById("close").onclick=function(){createCookie(settings.name,true,1800);var banner=document.getElementById("cookie-banner");banner.parentNode.removeChild(el);if(document.body.classList)document.body.classList.remove(bodyClass);else document.body.className=document.body.className.replace(new RegExp("\\b"+bodyClass+"\\b","g"),"");return false}})}}})});